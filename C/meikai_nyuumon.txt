#+TITLE: 新・明解C言語 入門編 の勉強ノート
* 解説
http://meikaicansewer.blogspot.com
* 第3章 プログラムの流れの分岐
** 3-1 if文
*** if文・その1
*** 奇数の判定
* 第5章 配列
** 5-1 配列
*** 配列による成績処理
**** List5-9
*** オブジェクト形式マクロ
#define a b
とすると，「この指令以降のaは全てbに置換せよ」という意味．
定義が複数個所に分散しなくて済むので，定義を変更する必要が生じても一括して変えられる．
**** List5-10
#+BEGIN_SRC C
/*
        学生の点数を読み込んで合計点と平均点を表示（人数をマクロで定義）
*/

#include <stdio.h>

#define NUMBER	5		/* 学生の人数 */

int main(void)
{
        int i;
        int tensu[NUMBER];	/* NUMBER人の学生の点数 */
        int sum = 0;		/* 合計点 */

        printf("%d人の点数を入力してください。\n", NUMBER);
        for (i = 0; i < NUMBER; i++) {
                printf("%2d番：", i + 1);
                scanf("%d", &tensu[i]);
                sum += tensu[i];
        }

        printf("合計点：%5d\n", sum);
        printf("平均点：%5.1f\n", (double)sum / NUMBER);

        return 0;
}

#+END_SRC
* 第9章
** 9-2 文字例の配列
配列の作り方．
名前[行][列]として宣言する．
下の例では，行数は自動的に3になっている．
列数は，最も文字数の多い"Turbo"に合わせ，6となっている（5 + ヌル文字1 = 6）．
*** 文字列の配列
**** List9-6
#+BEGIN_SRC C
  #include <stdio.h>
  int main(void)
  {
    int i;
    char cs[][6] = {"Turbo", "NA", "DOHC"};

    for (i = 0; i < 3; i++) {
      printf("cs[%d] = \"%s\"\n", i, cs[i]);
    }
    return 0;
  }
#+END_SRC

*** 文字列の配列への文字列の読み込み
**** List9-7
今度は，scanfでキーボードから読み込んで配列を作る．
#+BEGIN_SRC C
  /*
          文字列の配列を読み込んで表示
  ,*/

  #include <stdio.h>

  int main(void)
  {
          int  i;
          char s[3][128];		/* 3は読み込む要素数．128は，何文字入力されるかわからないので，多めに用意している */
                                  /* 実際にはヌル文字が最後にあるので，127文字しか読み込めない */
          for (i = 0; i < 3; i++) {
                  printf("s[%d] : ", i);
                  scanf("%s", s[i]); /* scanfだけど，配列の要素なので&演算子をつけてはだめ． */
          }

          for (i = 0; i < 3; i++)
                  printf("s[%d] = \"%s\"\n", i, s[i]);

          return 0;
  }
#+END_SRC

#+RESULTS:
*** 演習9-3
演習9-7を改変
- 文字列の個数を3ではなく大きな数にし，それを[[*%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E5%BD%A2%E5%BC%8F%E3%83%9E%E3%82%AF%E3%83%AD][オブジェクト形式マクロ]]で定義
- 最初のfor文で，"$$$$"を読みこんだら，その時点で読み込みを中断，終了する
- 2番目のfor文では，"$$$$"より前に入力された前文字例を表示する．
#+BEGIN_SRC C
  #include <stdio.h>

  #define NUMBER 128            /* ここにはセミコロンをつけてはいけない！！！！ */

  int main(void)
  {
    int  i, j;
    char s[NUMBER][128];

    for (i = 0; i < NUMBER; i++) {
      printf("s[%d] : ", i);
      scanf("%s", s[i]); /* scanfだけど，配列の要素なので&演算子をつけてはだめ． */

      for (j = 0; s[i][j] != '\0'; j++) {
        if (s[i][j] != '$') break;
      }
      if (j == 5) break;
    }

    for (j = 0; j < i; j++) { /* 1つめのループで止まったiまで，jのループを回すのがポイント */
      printf("s[%d] = \"%s\"\n", j, s[j]);
    }

    return 0;
  }
#+END_SRC

#+RESULTS:
** 9-3 文字例の操作
*** 文字列の長さ
**** List9-8
#+BEGIN_SRC C
  /*
          文字列の長さを調べる
  */

  #include <stdio.h>
  /*--- 文字列strの長さを返す ---*/
  /* まず文字列の長さを取得する関数str_lengthを定義 */
  int str_length(const char s[])	/* const は，定数．値を受け取るだけで，変更はしないことを宣言． */
  {
          int len = 0;

          while (s[len])		/* s[len] が非ゼロである間繰り返す．ヌル文字はゼロなので，ループは文字列末尾で止まる．*/
                  len++;
          return len;
  }

  int main(void)
  {
          char str[128];	/* ナル文字を含めて128文字まで格納できる */

          printf("文字列を入力してください：");
          scanf("%s", str);

          printf("文字列\"%s\"の長さは%dです。\n", str, str_length(str));

          return 0;
  }
#+END_SRC

#+RESULTS:
**** 演習9-4
文字列sを空文字列にする関数を作成せよ．
#+BEGIN_SRC C
  /*
          文字列を空文字列にする
  ,*/

  #include <stdio.h>
  void null_string(char s[])	/* void型の関数なので，returnはできない． */
                                  /* 上手くいっているかを確認する手立てがないので気持ち悪い． */
  {
          int len = 0;

          while (s[len]) {
            len++;
            s[len] = '\0';
          }
  }

  int main(void)
  {
          char str[128];	/* ナル文字を含めて128文字まで格納できる */

          printf("文字列を入力してください：");
          scanf("%s", str);

          printf("文字列\"%s\"を空文字列にしました。\n", str);

          return 0;
  }
#+END_SRC
**** 演習9-5
文字列の中に文字cが含まれていれば，その添字を返し，
含まれていなければ-1を返す関数を作成せよ
#+BEGIN_SRC C
  #include <stdio.h>

  int str_char(const char s[], int c) /* cをintとして扱うことに注意 */
  {
    for (int i = 0; s[i] != '\0'; i++) {
      if (s[i] == c) return i;	/* 整数として扱うのでstr_compしなくていい */
    }
    return -1;
  }

  int main(void)
  {
    char str[128];
    int index;

    printf("文字列を入力してください: ");  scanf("%s", str);

    index = str_char(str, 'c');	/* 文字を整数として扱うときは単引用付！ */

    if (index == -1) {
      printf("文字cは含まれていません\n");
    } else {
      printf("文字cは配列の%d番目にあります", index);
    }

    return 0;
  }
#+END_SRC
**** 演習9-6
文字列sの中に，文字cが含まれている個数（含まれていなければ0とする）を返す関数をら作成せよ
#+BEGIN_SRC C
  #include<stdio.h>

  int str_chnum(const char s[], int c) /* const とcharの間にはコンマを入れてはいけない！ */
  {
    int cnum = 0;
    for (int i = 0; s[i] != '\0'; i++) {
      if (s[i] == c) cnum = cnum + 1;
    }
    return cnum;
  }

  int main(void)
  {
    char str[128];		/*要素数の指定を忘れないこと!*/
    int cnum;

    printf("文字列を入力してください: ");
    scanf("%s", str);

    cnum = str_chnum(str, 'c');
    printf("文字列\"%s\"の中に含まれる\"c\"の数は%d個です．\n", str, cnum);

    return 0;
  }
#+END_SRC
*** 文字列の表示
**** List9-9
#+BEGIN_SRC C
  /*
          文字列を走査して表示する
  ,*/

  #include <stdio.h>

  /*--- 文字列sを表示（改行はしない）---*/
  void put_string(const char s[])
  {
    int i = 0;
    while (s[i])
            putchar(s[i++]); /* こんな短縮表記もできるのか...あまりよくないと思うけど．*/
                             /*そしてputcharは値を返すわけではないので void型でもいいんだな．*/
  }

  int main(void)
  {
    char str[128];

    printf("文字列を入力してください：");
    scanf("%s", str);

    printf("あなたは");
    put_string(str);
    printf("と入力しました。\n");

    return 0;
  }
**** 演習9-7
文字列sをn回だけ連続して表示する関数を作成せよ
#+BEGIN_SRC C
  #include <stdio.h>

  void put_stringn(const char s[], int n)
  {
    int j;
    for (j = 0; j < n; j++) {
      int i = 0;
      while (s[i] != '\0') {
        putchar(s[i]);
        i = i + 1;
      }
    }
  }
  int main(void)
  {
    char str[128];
    int n;

    printf("文字列を入力してください:");
    scanf("%s", str);
    printf("\n繰り返したい数を入力してください:");
    scanf("%d", &n);

    printf("文字列\"%s\"を%d回繰り返すと", str, n);
    put_stringn(str, n);
    printf("となります．\n");

    return 0;
  }
#+END_SRC

#+END_SRC
*** 数字文字の出現回数
*** 大文字・小文字の変換


*** 文字列の配列の受け渡し
** まとめ
